<!-- eslint-disable vue/no-parsing-error -->
<template>
    <img :src="bg11" alt="slide">

    <svg width="1920" viewBox="0 0 1920 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
<g>
<g id="further-btn">
<rect x="618" y="921" width="685" height="69" rx="20" fill="white"/>
<text fill="#010101" xml:space="preserve" style="white-space: pre" font-family="Gogh" font-size="22" font-weight="500" letter-spacing="0em"><tspan x="855.971" y="962.977">&#x41f;&#x440;&#x43e;&#x434;&#x43e;&#x43b;&#x436;&#x438;&#x442;&#x44c;</tspan></text>
<g id="Group 528">
<rect id="Rectangle 197" x="1015.97" y="954.5" width="42" height="2" fill="#010101"/>
<path id="Polygon 2" d="M1065.03 955.5L1050.78 962.428L1055.47 955.5L1050.78 948.572L1065.03 955.5Z" fill="#010101"/>
</g>
</g>
<g id="text-1">
    <g id="Frame 102">
<path d="M358 284C358 275.163 365.163 268 374 268H1123C1131.84 268 1139 275.163 1139 284V479H374C365.163 479 358 471.837 358 463V284Z" fill="white"/>
<text id="value" fill="black" xml:space="preserve" style="white-space: pre" font-family="Gogh" font-size="22" font-weight="500" letter-spacing="0em"><tspan x="403" y="322.477">&#x41f;&#x440;&#x438;&#x432;&#x435;&#x442;, &#x434;&#x43b;&#x44f; &#x43f;&#x440;&#x43e;&#x433;&#x440;&#x430;&#x43c;&#x43c;&#x438;&#x440;&#x43e;&#x432;&#x430;&#x43d;&#x438;&#x44f; &#x43d;&#x430; 1&#x421; &#x43d;&#x435; &#x43e;&#x431;&#x44f;&#x437;&#x430;&#x442;&#x435;&#x43b;&#x44c;&#x43d;&#x43e; &#x437;&#x43d;&#x430;&#x442;&#x44c; </tspan><tspan x="403" y="356.477">&#x438;&#x43d;&#x43e;&#x441;&#x442;&#x440;&#x430;&#x43d;&#x43d;&#x44b;&#x435; &#x44f;&#x437;&#x44b;&#x43a;&#x438; &#x438; &#x438;&#x43c;&#x435;&#x442;&#x44c; &#x432;&#x44b;&#x441;&#x448;&#x435;&#x435; &#x43e;&#x431;&#x440;&#x430;&#x437;&#x43e;&#x432;&#x430;&#x43d;&#x438;&#x435;. &#x41a;&#x43e;&#x434; &#x438; </tspan><tspan x="403" y="390.477">&#x434;&#x43e;&#x43a;&#x443;&#x43c;&#x435;&#x43d;&#x442;&#x430;&#x446;&#x438;&#x44f; &#x43d;&#x430; &#x440;&#x443;&#x441;&#x441;&#x43a;&#x43e;&#x43c; &#x44f;&#x437;&#x44b;&#x43a;&#x435;, &#x442;&#x430;&#x43a; &#x447;&#x442;&#x43e; &#x441; &#x43d;&#x438;&#x43c;&#x438; &#x441;&#x43f;&#x440;&#x430;&#x432;&#x438;&#x442;&#x441;&#x44f; </tspan><tspan x="403" y="424.477">&#x43f;&#x440;&#x430;&#x43a;&#x442;&#x438;&#x447;&#x435;&#x441;&#x43a;&#x438; &#x43a;&#x430;&#x436;&#x434;&#x44b;&#x439; &#x432; &#x43a;&#x440;&#x430;&#x442;&#x447;&#x430;&#x439;&#x448;&#x438;&#x435; &#x441;&#x440;&#x43e;&#x43a;&#x438;!</tspan></text>
</g>
<path id="Vector 17" d="M1138 479V459L1156.29 477.293L1158 479H1155.59H1138Z" fill="white"/>
</g>
<g id="text-2">
    <g id="Frame 102_2">
<path d="M358 515C358 506.163 365.163 499 374 499H1139V694C1139 702.837 1131.84 710 1123 710H374C365.163 710 358 702.837 358 694V515Z" fill="white"/>
<text id="value_2" fill="black" xml:space="preserve" style="white-space: pre" font-family="Gogh" font-size="22" font-weight="500" letter-spacing="0em"><tspan x="403" y="553.477">&#x421;&#x435;&#x439;&#x447;&#x430;&#x441; &#x43c;&#x43d;&#x43e;&#x433;&#x43e; &#x43e;&#x431;&#x443;&#x447;&#x430;&#x44e;&#x449;&#x438;&#x445; &#x43f;&#x440;&#x43e;&#x433;&#x440;&#x430;&#x43c;&#x43c;, &#x43d;&#x43e; &#x442;&#x43e;&#x43b;&#x44c;&#x43a;&#x43e; &#x435;&#x434;&#x438;&#x43d;&#x438;&#x446;&#x44b; &#x438;&#x437; </tspan><tspan x="403" y="587.477">&#x43d;&#x438;&#x445; &#x434;&#x435;&#x439;&#x441;&#x442;&#x432;&#x438;&#x442;&#x435;&#x43b;&#x44c;&#x43d;&#x43e; &#x43e;&#x441;&#x43d;&#x43e;&#x432;&#x430;&#x43d;&#x44b; &#x43d;&#x430; &#x440;&#x435;&#x430;&#x43b;&#x44c;&#x43d;&#x43e;&#x43c; &#x43e;&#x43f;&#x44b;&#x442;&#x435; &#x43a;&#x43e;&#x43c;&#x43f;&#x430;&#x43d;&#x438;&#x439; &#x438; </tspan><tspan x="403" y="621.477">&#x434;&#x430;&#x44e;&#x442; &#x437;&#x43d;&#x430;&#x43d;&#x438;&#x44f;, &#x43f;&#x440;&#x438;&#x43c;&#x435;&#x43d;&#x438;&#x43c;&#x44b;&#x435; &#x432; &#x441;&#x443;&#x449;&#x435;&#x441;&#x442;&#x432;&#x443;&#x44e;&#x449;&#x438;&#x445; &#x437;&#x430;&#x434;&#x430;&#x447;&#x430;&#x445; &#x440;&#x44b;&#x43d;&#x43a;&#x430; &#x438; </tspan><tspan x="403" y="655.477">&#x437;&#x430; &#x43a;&#x43e;&#x442;&#x43e;&#x440;&#x44b;&#x435; &#x433;&#x43e;&#x442;&#x43e;&#x432;&#x44b; &#x43f;&#x43b;&#x430;&#x442;&#x438;&#x442;&#x44c; &#x43a;&#x43b;&#x438;&#x435;&#x43d;&#x442;&#x44b;.</tspan></text>
</g>
<path id="Vector 17_2" d="M1138 499H1158L1139.71 517.293L1138 519V516.586V499Z" fill="white"/>
</g>
</g>
    </svg>

</template>

<script setup>
import { nextTick, onBeforeUnmount, onMounted, ref, watch} from 'vue'
import bg11 from "@/assets/slides-images/eleven/bg.webp"
import useFurtherButton from '../../composables/useFurtherButton'
import programmer from './assets/programmer.mp3'
import programmer2 from './assets/programmer2.mp3'

const replicStep = ref(0)
// eslint-disable-next-line no-undef
const emit = defineEmits(['nextSlide'])
const audioProgrammer = new Audio(programmer)
const audioProgrammer2 = new Audio(programmer2)

let text1
let text2

useFurtherButton()

watch(replicStep, (value) => {
    switch (value) {
        case 1:
            audioProgrammer.pause()
            audioProgrammer2.play()
            text2.classList.add('visible')
            break;

        case 2:
            audioProgrammer2.pause()
            emit('nextSlide')
            break;

        default:
            break;
    }
})

onMounted(async () => {
    await nextTick()

    document.addEventListener('nextReplic', () => {
        replicStep.value += 1
    })


    text1 = document.querySelector('#text-1')
    text2 = document.querySelector('#text-2')
    
    setTimeout(() => {
        audioProgrammer.play()
        text1.classList.add('visible')
    }, 500)
})

</script>

<style lang="scss">

</style>